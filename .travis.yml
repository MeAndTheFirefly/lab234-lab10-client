language: node_js
node_js:
- 8.4.0
sudo: required
cache:
  directories:
  - node_modules
before_install:
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
- npm i -D uglifyjs-webpack-plugin
install:
- npm install
- npm run ng-deploy
- ls -l
script:
- docker build -t $DOCKER_USERNAME/se234-lab10-client .
- docker push $DOCKER_USERNAME/se234-lab10-client
after_success:
- docker stop se234-lab10-client
- docker rm  se234-lab10-client
- docker run -p 8081:80 -d $DOCKER_USERNAME/se234-lab10-client:latest
service: docker
env:
  global:
  - secure: NAkG1VB3KZKBcm97KTGedKtmJiBBIdMUIH4BOdgWrDtsIyWyCkVSW/MwyHDD6P+EZcTTZqxuKfAe0m00PMEGMC/HPnlt+DD28BxiwutmTAQK4yk3ikY+ndW1utP79dz2VDBDsFBks1/21ewk1tsLhbqJAeUqI6LoVBDzONOUznwU6vZz5U8xI5UcOa90E62EU6AhSzlP1NkkREsSvYjAtd6HChe9h2KN6iN7idw0NbllkVh9Eytsz8Ac6hQzT1ifOT/C9cOH3n/8+jmV2VwIPW15pB8Yof0usSrIdOmW4NopCXTdOiAnAPGFfdFVrvnu+GBdIufHTUSkNxzVDroh+vlvvvsbxWYHuYCFQLqrm1IzyK9W/HiTVCBZcMIhTR60BcevrYWF5c4+Civw89IZdRsP560HwJpGLU+dI/ntrxMeUNbE1vlpOuS5VPzfvQpdeI6+8wLztYBXUo5+rYfaVFrfJyT0IvTFys8XiMQLKspQWtx2K/9+LvDYDAitNw9VcTj5rfhkl7vy1t16/hi+1gzBBkra/I8Kv9vQElJHfz1beahHyCuSLUePGHp9RT52oTP1aj4W3Tux4oWCCC+++Dm7LbxPWSNNfojksJZnpmr0COXrdC9nWsj9O0RKzmF8BALwnBR5f7akqFCdMjMyGMPunKPCdfG4BwH08E9OQpA=
  - secure: hwWWZ27pCRWn3LoeFiAbtYDJgO0i/kfmzx7tsnAIuT06R2jAhqNUCnDMgiXhAFtuSJtGhjdkOyIL7MWo0Q2BlQTcjApvYeoNufsewlVkIzk4XXcrPg54uNCe61f+5trNpacsUYoBwekcpx6NplVORwT/Plrkkq13HsHnWtT3+lZPCz31U7Oa1MXTNLz4mnL/oF4SY0QwM18Qfgqz/rRUWYYPnmEtnl16ppqYz2gVhp89713ZfBmBAL7O//j6oa4HWKnHnwXcuUuzbtvbAzuwNg+lnwkDzJ6hCXeACcSyUYatteVT/pl6CSFHJ8XbwpFxggRLw57Ll1M4SjYCbpCl1oEVkYbXy6t6uZJQlE0w6jsMGg9EJJCKFFCwhA7HsHp2kARonsMvMKgcr9QXWd+YrhdYa4uG+v1J1I0LGi39/7NIoLvy/PwrIpAU2T44b356HByj3nk7JCA8fYzbGiCrXnCPONQG/onZTierLDMvOPw7EaA2Y6yUomskH+q/BHUxPy/nNhD11o6MF/UnlF8L1JJhgNxx9RLMtaghBUuJSBnEifvWQkt96EsJXeI/rAYKJWfIcTobTXcyZPqmTEGbw/svUNadJrvBANpHTACk1ymHTWSKbTpcqO2hICicqP+RE+Avm/n8OP7cTxuksvrnG91o9vMEOqL7XnHkb88h55o=
  - secure: X+5iVBBWm+00uE0Jhc1KvKr9Tawq7LChylrEhMgFi9KmuQ1hNMdr1IeJgzYJkTSkyTSbPFDbIP3y9LAzkEUcGCNWi5hdMxtstt/caMtDA1BuBZ/L4+aVTT4AfnjUf1JvKp+38ZiVRsaNNZM2gGiwc6991+RxxcGqSIL//MYfootem7G2PRmoHEA1QcdZa8dAC3QyGlWj4olvUTQtDDmKtx0TVUlkuqWc5aVqnY3qqniWhqfpzBt7HJ620GsbgnZ0h8XUpbvUcNhLrgbQfAPVPvvLNCMGTNFcAUUneQRrLH1WQfudGcMjktcnNjyogwA3RO2tmXvZ8qZltS4RUXVizoz8+v8j4I9yrdHirzkLEI9aSymZEYemMovX1g/QpYMjzhLGPwQiO+rQHAAQY0dV0Xp/aDuyXwohyhBHtHqnunNlGXfw4d/IjFUDXQiNSqOLrNw1HSA/BOjusAEfw8VnStBokZOdxr1szN7fFk5EbDLdke0l5azqBS5LqStRLJtQTooPW4NHCwJAlPXSrMb8yUmJAiPjqNbgAdmbavjJFrCFME0uCmDlh5n67qzMq4lltVnqTSilOoqTLsi4fsADnrBzTAjY2hzlDym9/xoJ5ApebYkV/XzsAOoAlITT8NpO7keuBJ/17NxV4EiltabarI55dZ1NLHysPTGi13a2Ono=
