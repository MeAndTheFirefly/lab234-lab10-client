language: node_js
node_js:
- 8.4.0
sudo: required
cache:
  directories:
  - node_modules
before_install:
- docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
- npm i -D uglifyjs-webpack-plugin
install:
- npm install
- npm run ng-deploy
- ls -l
script:
- docker build -t $DOCKER_USERNAME/se234-lab10-client .
- docker push $DOCKER_USERNAME/se234-lab10-client
after_success:
- docker stop se234-lab10-client
- docker rm se234-lab10-client 
- docker run -p 8081:80 -d --name se234-lab10-client $DOCKER_USERNAME/se234-lab10-client:latest
service: docker
env:
  global:
  - secure: pjN3vXv4bjcVBzroRm0QxyWOq2IfosDph/Mrx5VFibH7D6sHB5rRSgRrRQWyOO7+BuHsTmjnpo7AA8Hl2PrXkpC8Xc0Akjh3jMfwXzKy3JdUpEmmpGQmfJ15fZzLM7di2mYYk6aA4ScyVaNEwjnns+azTlEzXne/T7R1k7WmmoqS9GTzjf80lzk9tEmoaYqs5SkGDejB+XrvT3FqJlV5BYEEjqLyd0df4wyBMknTCukJa7VE+KsNrsa10kiOfN+q2spWrn+YAWqqCdljdxTPjnxDRWUx+R52bXfwGluT36X6Q00BYJGGw0bAXngdRV4i6jdAYpoKXmEu3uqzaILQOlgY/sJY9j86u0pTop3prkrn/ce30evT5vAES4Ixth6xxEJnf/4w3vEmoSIihPA2a80adCWXE/jWx+CWZ0yGZgxpzc6+72td4IRBL1cFBtF7Y4R1bSPv4RpkvlqFwPnUuwICq9VDCl5ruGX0+EAiCXcfLp8OfU2yL2w1x0IdYMnkZnM+Rz6Y8x3FVsGlqE4QELWrAbZlbT9VWjo8bbx+9z5ZYJl5Rc5Zq2uYPmzUnVVpBl4r9y/iFrGC4aUtQQktcqcAes+ZzuvswO+AbkEu7v9dPxh0AARTD1g3erEFZgPDSFfBTquXtGUsdpTX95Rffjz5MMwXE+8OkY3SkxnOT6E=
  - secure: PKYLwQoXWVWKoQOrhOGlZpHZDP81Go8cQ4NacHuch989z5L6yZ5Hsft+83MAlolNLodUow5BEkGts5BiGw+HweEhyNedCSccrd8FSdHKsPIqNmWqB3Ni8WOKhNefFCOxNr5nbU8hNo4TzmRKRz45FXKs7ZdmHYoBKtryFOb1Q6xoo2eZ8bSbViHWeJFEKIEFVG8rmt8k5FfqBKM+Em/jJcsx/GeW9m4PlGSZDRczrW83viM8U6n7qxqS9H6T0XiUH6V7ZJeppvWEUQKrP6BwIq7CgCcFUv4zC6KQPl0BxdTMgL66WFZYP6RkP/mcHKYJhTOI15svHjRmwRL7mp4R1/gDm3e72ThOcPaS+CnPiiSItjPqlBdSjc3Od+Ie8exOcDEn7xKj5128nLrxHTczwRmXwSCyjzdgnxibC7zVDyQLLDnub3hMl4QtsS8xF0p6Z1bQURHilN8N8LTwhtHUq+4uYqtlmQGyMTl2vL4Oip8P5SdYPlFvTOekgDKHzl5T0OLtdtL8Ry2sqaO9NA8wOiUoZfDgB7tIpWNy08mpJRsOHxL06klWjus+/E4+Ib/alB3LoqpK7ru15coccel27XlishgFl/LcRX7btHrvr1KC6OwRCDKOoGdfGHJ2akVoRkvObBwrxIffp5pWULeCu+YvwidDNgGWF2gL/Pa7cbs=
  - secure: EteNJbd1BE5gQ1FhGebN/nWXub55qpJASVAoSPinCkfp9s3i+hgXyCwqNGEfycEvsAItmS3pcVfhwovu8yeg7hZihBDbaQb5GbPdWoe1NqEqg0cKyWXDp4RChNzchyBLdvxWyoR9mazA0KJ6aIzdUoa1XELD8diCOG4rzAc32f3O150c3jc6t9pvCQHift6pY9uJYRjBwFVbQubt7FYw5E4lm3AA68cHVcrgr8Xb0bzoaDbcmVfgA731ynQzZlmt4JDgFbIh61jx/jwUTe1h+iRlEtaWnfqRg2etzxqzTfq9SXrgvp6f0mMeAMayUasFRABtZdmAMk7q6LLVK6JIVA66FsSRTRhpoCa8vHa1pKY7iNzmbaxAEc3BowVeJoLUwzV0EbmQGg4/M5YzTrf8psds6cF/bV4PJVnQFYMw3740SK+pQGg2Ua938uZM6ishTrPjjD/aH0dKLyLspVQjgG2e0ilnTzEKaV372Gj/fftB+kLCuLVk7/absihQej8Sh8ux+v3Po2eetQimzxG1yW4rHHLBSkp2c4A7WF+NV+PUGXr0jalyh8Kv5CXGaTwrFLhas6dt3EbOUHrBdmpoeHn1kWGJ9LJ14dlhuxZW0EO98SD96kQx7+JZnfwQOIFIjMCNrFIgBTITbkdjKbRq3J8v//QJReA0ZwhpXqdOfqI=
